!function(n,t){"use strict";n.module("ngSails",["ng"]),n.module("ngSails").provider("$sails",function(){var e=this,o=["get","post","put","delete"],i=["on","once"];this.url=void 0,this.interceptors=[],this.responseHandler=void 0,this.$get=["$q","$timeout",function(r,u){var s=t.connect(e.url),c=function(){var n=r.defer(),t=n.promise;return t.success=function(n){return t.then(function(t){n(t.data,t.status,t.headers,config)}),t},t.error=function(n){return t.then(null,function(t){n(t.data,t.status,t.headers,config)}),t},n},a=this.responseHandler||function(n,t){t.data=t.body,t.status=t.statusCode,t.error?n.reject(t):n.resolve(t)},f=function(n,t){u(function(){n(t)})},l=function(t){s["legacy_"+t]=s[t],s[t]=function(e,o,i){var r=c();return void 0===i&&n.isFunction(o)&&(i=o,o=null),r.promise.then(i),s["legacy_"+t](e,o,function(n,t){a(r,t)}),r.promise}},d=function(t){s["legacy_"+t]=s[t],s[t]=function(e,o){null!==o&&n.isFunction(o)&&s["legacy_"+t](e,function(n){f(o,n)})}};return n.forEach(o,l),n.forEach(i,d),s}]})}(angular,io);