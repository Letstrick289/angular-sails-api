!function(n,t){"use strict";var e=n.module("ngSails",[]);e.provider("$sails",function(){var e=this,o=["get","post","put","delete"],i=["on","once"];this.url=void 0,this.interceptors=[],this.$get=["$q","$timeout",function(r,u){var c=t.connect(e.url),s=function(){var n=r.defer(),t=n.promise;return t.success=function(n){return t.then(n)},t.error=function(n){return t.then(null,n)},n},f=function(t,e){e&&n.isObject(e)&&e.status&&2!==Math.floor(e.status/100)?t.reject(e):t.resolve(e)},l=function(n,t){u(function(){n(t)})},a=function(t){c["legacy_"+t]=c[t],c[t]=function(e,o,i){var r=s();return void 0===i&&n.isFunction(o)&&(i=o,o=null),r.promise.then(i),c["legacy_"+t](e,o,function(n){f(r,n)}),r.promise}},h=function(t){c["legacy_"+t]=c[t],c[t]=function(e,o){null!=o&&n.isFunction(o)&&c["legacy_"+t](e,function(n){l(o,n)})}};return n.forEach(o,a),n.forEach(i,h),c}]})}(angular,io);