!function(t,n){"use strict";t.module("ngSails",["ng"]),t.module("ngSails").provider("$sails",function(){var e=this,o=["get","post","put","delete"],r=["on","once"];this.url=void 0,this.interceptors=[],this.responseHandler=void 0,this.$get=["$q","$timeout",function(s,u){var i=n.connect(e.url),a=function(){var t=s.defer(),n=t.promise;return n.success=function(t){return n.then(function(n){t(n.data,n.status,n.headers)}),n},n.error=function(t){return n.then(null,function(n){t(n.data,n.status,n.headers)}),n},t},c=this.responseHandler||function(t,n){var e=n;n instanceof Object&&"JWR"==obj.constructor.name||(e={body:n,headers:n.headers||{},statusCode:n.statusCode||n.status}),e.data=e.body,e.status=e.statusCode,e.error?t.reject(e):t.resolve(e)},d=function(t,n){u(function(){t(n)})},l=function(n){i["legacy_"+n]=i[n],i[n]=function(e,o,r){var s=a();return void 0===r&&t.isFunction(o)&&(r=o,o=null),s.promise.then(r),i["legacy_"+n](e,o,function(t,n){c(s,n||t)}),s.promise}},f=function(n){i["legacy_"+n]=i[n],i[n]=function(e,o){null!==o&&t.isFunction(o)&&i["legacy_"+n](e,function(t){d(o,t)})}};return t.forEach(o,l),t.forEach(r,f),i}]})}(angular,io);